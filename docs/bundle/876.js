"use strict";(self.webpackChunkvislite_examples=self.webpackChunkvislite_examples||[]).push([[876],{9:(t,e,i)=>{i.d(e,{A:()=>s});var r=i(601),n=i.n(r),o=i(314),a=i.n(o)()(n());a.push([t.id,".sankey{width:100vw;height:calc(100vh - 100px);margin:20px auto 0 auto}",""]);const s=a},192:(t,e,i)=>{i.d(e,{A:()=>v});
/*!
* Canvas of VISLite JavaScript Library v1.5.0
* git+https://github.com/oi-contrib/VISLite.git
*/
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return o=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var a=function(t,e,i,r,n){var o=Math.cos(i),a=Math.sin(i);return[+((r-t)*o-(n-e)*a+t).toFixed(7),+((r-t)*a+(n-e)*o+e).toFixed(7)]},s=function(t,e,i,r,n){return t.beginPath(),t.translate(i,r),t.rotate(n),t.font=e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily,t},l=function(t,e,i,r,n,o,s,l){if(n>o){var h=n;n=o,o=h}return s%=2*Math.PI,l>=1.999999*Math.PI||l<=1.999999*-Math.PI?l=2*Math.PI:l%=2*Math.PI,function(t,e,i,r,n,o,s){e<0&&(t+=e,e*=-1);var l,h=[];l=a(0,0,t,n,0),h[0]=l[0],h[1]=l[1],l=a(0,0,e,l[0],l[1]),h[2]=l[0],h[3]=l[1],l=a(0,0,t,o,0),h[4]=l[0],h[5]=l[1],l=a(0,0,e,l[0],l[1]),h[6]=l[0],h[7]=l[1],s(t,t+e,h[0]+i,h[1]+r,h[4]+i,h[5]+r,h[2]+i,h[3]+r,h[6]+i,h[7]+r,.5*(o-n))}(s,l,i,r,n,o,(function(a,s,l,h,u,_,c,g,p,f,v){v<0&&(v=-v),t.beginPath(),t.moveTo(l,h),t.arc(i,r,n,a,s,!1),"round"==e.arcEndCap?t.arc(.5*(c+p),.5*(g+f),v,s-Math.PI,s,!0):"-round"==e.arcEndCap?t.arc(.5*(c+p),.5*(g+f),v,s-Math.PI,s,!1):t.lineTo(p,f),t.arc(i,r,o,s,a,!0),"round"==e.arcStartCap?t.arc(.5*(l+u),.5*(h+_),v,a,a-Math.PI,!0):"-round"==e.arcStartCap?t.arc(.5*(l+u),.5*(h+_),v,a,a-Math.PI,!1):t.lineTo(l,h)})),"butt"==e.arcStartCap&&t.closePath(),t},h=function(t,e,i,r){return t.beginPath(),t.moveTo(e+r,i),t.arc(e,i,r,0,2*Math.PI),t},u=function(t,e,i,r,n,o){t.beginPath();var a=[];if(Array.isArray(e.rectRadius)&&e.rectRadius.length>0)for(var s=0;s<4;s++)a.push.apply(a,e.rectRadius);return a.length>=4?(t.arc(i+a[0],r+a[0],a[0],Math.PI,1.5*Math.PI),t.arc(i+n-a[1],r+a[1],a[1],1.5*Math.PI,0),t.arc(i+n-a[2],r+o-a[2],a[2],0,.5*Math.PI),t.arc(i+a[3],r+o-a[3],a[3],.5*Math.PI,Math.PI),t.closePath()):t.rect(i,r,n,o),t};function _(t,e,i,r,n){for(var o=0,a="",s=0;s<e.length;s++)t.measureText(a+e[s]).width>i||/\n$/.test(a)?(n(a,((o+=1)-.5)*r),a=e[s]):s==e.length-1?(o+=1,n(a+e[s],(o-.5)*r)):a+=e[s];return o*r}function c(t){var e={fontSize:16,fontFamily:"sans-serif",fontWeight:400,fontStyle:"normal",arcStartCap:"butt",arcEndCap:"butt",rectRadius:[]},i={fillStyle:"black",strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",lineDash:[],textAlign:"left",textBaseline:"middle",shadowBlur:0,shadowColor:"black"};return"special"==t?e:"init"==t?i:o(o({},e),i)}var g=function(){function t(t,e,i,r,n){void 0===e&&(e={}),void 0===r&&(r=!1),this.__region=null,this.__onlyRegion=!1,this.__onlyView=!1,this.__specialConfig=c("special"),this.__initConfig=c("init"),this.painter=t.getContext("2d",e),this.__region=i,this.__isPainter=r,this.painter.textBaseline="middle",this.painter.textAlign="left"}return t.prototype.useConfig=function(t,e){if(this.__region&&!this.__onlyView&&["fillStyle","strokeStyle","shadowBlur","shadowColor"].indexOf(t)<0&&this.__region.useConfig(t,e),this.__isPainter&&this.__onlyRegion)return this;if("lineDash"==t)this.painter.setLineDash&&this.painter.setLineDash(e);else if(t in this.__specialConfig)"fontSize"==t&&(e=Math.round(e)),this.__specialConfig[t]=e;else{if(!(t in this.__initConfig))throw new Error("Illegal configuration item of painter : "+t+" !");this.painter[t]=e}return this},t.prototype.fillText=function(t,e,i,r){return void 0===r&&(r=0),this.__region&&!this.__onlyView&&this.__region.fillText(t,e,i,r),this.__isPainter&&this.__onlyRegion||(this.painter.save(),s(this.painter,this.__specialConfig,e,i,r).fillText(t,0,0),this.painter.restore()),this},t.prototype.strokeText=function(t,e,i,r){return void 0===r&&(r=0),this.__region&&!this.__onlyView&&this.__region.strokeText(t,e,i,r),this.__isPainter&&this.__onlyRegion||(this.painter.save(),s(this.painter,this.__specialConfig,e,i,r).strokeText(t,0,0),this.painter.restore()),this},t.prototype.fullText=function(t,e,i,r){return void 0===r&&(r=0),this.__region&&!this.__onlyView&&this.__region.fullText(t,e,i,r),this.__isPainter&&this.__onlyRegion||(this.painter.save(),s(this.painter,this.__specialConfig,e,i,r),this.painter.fillText(t,0,0),this.painter.strokeText(t,0,0),this.painter.restore()),this},t.prototype.fillTexts=function(t,e,i,r,n,o){var a=this;void 0===n&&(n=1.2),void 0===o&&(o=0);var l=0;if(this.__region&&!this.__onlyView&&(l=this.__region.fillTexts(t,e,i,r,n)),this.__isPainter&&this.__onlyRegion)return l;this.painter.save(),s(this.painter,this.__specialConfig,e,i,o);var h=_(this.painter,t,r,this.__specialConfig.fontSize*n,(function(t,e){a.painter.fillText(t,0,e)}));return this.painter.restore(),h},t.prototype.strokeTexts=function(t,e,i,r,n,o){var a=this;void 0===n&&(n=1.2),void 0===o&&(o=0);var l=0;if(this.__region&&!this.__onlyView&&(l=this.__region.fillTexts(t,e,i,r,n)),this.__isPainter&&this.__onlyRegion)return l;this.painter.save(),s(this.painter,this.__specialConfig,e,i,o);var h=_(this.painter,t,r,this.__specialConfig.fontSize*n,(function(t,e){a.painter.strokeText(t,0,e)}));return this.painter.restore(),h},t.prototype.fullTexts=function(t,e,i,r,n,o){var a=this;void 0===n&&(n=1.2),void 0===o&&(o=0);var l=0;if(this.__region&&!this.__onlyView&&(l=this.__region.fillTexts(t,e,i,r,n)),this.__isPainter&&this.__onlyRegion)return l;this.painter.save(),s(this.painter,this.__specialConfig,e,i,o);var h=_(this.painter,t,r,this.__specialConfig.fontSize*n,(function(t,e){a.painter.fillText(t,0,e),a.painter.strokeText(t,0,e)}));return this.painter.restore(),h},t.prototype.beginPath=function(){return this.__region&&!this.__onlyView&&this.__region.beginPath(),this.__isPainter&&this.__onlyRegion||this.painter.beginPath(),this},t.prototype.closePath=function(){return this.__region&&!this.__onlyView&&this.__region.closePath(),this.__isPainter&&this.__onlyRegion||this.painter.closePath(),this},t.prototype.moveTo=function(t,e){return this.__region&&!this.__onlyView&&this.__region.moveTo(t,e),this.__isPainter&&this.__onlyRegion||this.painter.moveTo(Math.round(t)+.5,Math.round(e)+.5),this},t.prototype.lineTo=function(t,e){return this.__region&&!this.__onlyView&&this.__region.lineTo(t,e),this.__isPainter&&this.__onlyRegion||this.painter.lineTo(Math.round(t)+.5,Math.round(e)+.5),this},t.prototype.arc=function(t,e,i,r,n){return this.__region&&!this.__onlyView&&this.__region.arc(t,e,i,r,n),this.__isPainter&&this.__onlyRegion||this.painter.arc(t,e,i,r,r+n,n<0),this},t.prototype.fill=function(){return this.__region&&!this.__onlyView&&this.__region.fill(),this.__isPainter&&this.__onlyRegion||this.painter.fill(),this},t.prototype.stroke=function(){return this.__region&&!this.__onlyView&&this.__region.stroke(),this.__isPainter&&this.__onlyRegion||this.painter.stroke(),this},t.prototype.full=function(){return this.__region&&!this.__onlyView&&this.__region.full(),this.__isPainter&&this.__onlyRegion||(this.painter.fill(),this.painter.stroke()),this},t.prototype.save=function(){return this.__region&&!this.__onlyView&&this.__region.save(),this.__isPainter&&this.__onlyRegion||this.painter.save(),this},t.prototype.restore=function(){return this.__region&&!this.__onlyView&&this.__region.restore(),this.__isPainter&&this.__onlyRegion||this.painter.restore(),this},t.prototype.clip=function(){return this.__region&&!this.__onlyView&&this.__region.clip(),this.__isPainter&&this.__onlyRegion||this.painter.clip(),this},t.prototype.quadraticCurveTo=function(t,e,i,r){return this.__region&&!this.__onlyView&&this.__region.quadraticCurveTo(t,e,i,r),this.__isPainter&&this.__onlyRegion||this.painter.quadraticCurveTo(t,e,i,r),this},t.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this.__region&&!this.__onlyView&&this.__region.bezierCurveTo(t,e,i,r,n,o),this.__isPainter&&this.__onlyRegion||this.painter.bezierCurveTo(t,e,i,r,n,o),this},t.prototype.clearRect=function(t,e,i,r){return this.__region&&!this.__onlyView&&this.__region.clearRect(t,e,i,r),this.__isPainter&&this.__onlyRegion||this.painter.clearRect(t,e,i,r),this},t.prototype.clearCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.clearCircle(t,e,i),this.__isPainter&&this.__onlyRegion||(this.painter.beginPath(),this.painter.globalCompositeOperation="destination-out",this.painter.arc(t,e,i,0,2*Math.PI),this.painter.fill(),this.painter.globalCompositeOperation="source-over",this.painter.closePath()),this},t.prototype.fillArc=function(t,e,i,r,n,o){return this.__region&&!this.__onlyView&&this.__region.fillArc(t,e,i,r,n,o),this.__isPainter&&this.__onlyRegion||l(this.painter,this.__specialConfig,t,e,i,r,n,o).fill(),this},t.prototype.strokeArc=function(t,e,i,r,n,o){return this.__region&&!this.__onlyView&&this.__region.strokeArc(t,e,i,r,n,o),this.__isPainter&&this.__onlyRegion||l(this.painter,this.__specialConfig,t,e,i,r,n,o).stroke(),this},t.prototype.fullArc=function(t,e,i,r,n,o){return this.__region&&!this.__onlyView&&this.__region.fullArc(t,e,i,r,n,o),this.__isPainter&&this.__onlyRegion||(l(this.painter,this.__specialConfig,t,e,i,r,n,o),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.fillCircle(t,e,i),this.__isPainter&&this.__onlyRegion||h(this.painter,t,e,i).fill(),this},t.prototype.strokeCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.strokeCircle(t,e,i),this.__isPainter&&this.__onlyRegion||h(this.painter,t,e,i).stroke(),this},t.prototype.fullCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.fullCircle(t,e,i),this.__isPainter&&this.__onlyRegion||(h(this.painter,t,e,i),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillRect=function(t,e,i,r){return this.__region&&!this.__onlyView&&this.__region.fillRect(t,e,i,r),this.__isPainter&&this.__onlyRegion||u(this.painter,this.__specialConfig,t,e,i,r).fill(),this},t.prototype.strokeRect=function(t,e,i,r){return this.__region&&!this.__onlyView&&this.__region.strokeRect(t,e,i,r),this.__isPainter&&this.__onlyRegion||u(this.painter,this.__specialConfig,t,e,i,r).stroke(),this},t.prototype.fullRect=function(t,e,i,r){return this.__region&&!this.__onlyView&&this.__region.fullRect(t,e,i,r),this.__isPainter&&this.__onlyRegion||(u(this.painter,this.__specialConfig,t,e,i,r),this.painter.fill(),this.painter.stroke()),this},t.prototype.draw=function(){return Promise.resolve()},t.prototype.drawImage=function(t,e,i,r,n,o){var a=this;return void 0===o&&(o=!1),new Promise((function(s){if(a.__region&&!a.__onlyView&&a.__region.fillRect(e,i,r,n),a.__isPainter&&a.__onlyRegion)s({});else if("string"!=typeof t||o)a.painter.drawImage(t,e,i,r,n),s({});else{var l=new Image;l.onload=function(){a.painter.drawImage(l,e,i,r,n),s({})},l.src=t}}))},t.prototype.install=function(t){var e=this,i=function(i){if(i in r)throw new Error("VISLite Canvas:Method already exists and cannot be overwritten.");r[i]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t[i].apply(e,r);return null!=o?o:e}},r=this;for(var n in t)i(n);return this},t}(),p=function(t,e){var i={value:function(){return t},setColor:function(r,n){return t.addColorStop(e?e(r):r,n),i}};return i},f=function(t){function e(e,i,r,n){void 0===r&&(r={}),void 0===n&&(n=1);var o=t.call(this,e,r,i?new g(i,{willReadFrequently:!0}):void 0,!0,n)||this;return o.name="Canvas",o.__regionList={},o.__regionAssemble=function(){for(var t=[],e=0;e<3;e++)t[e]=0;return function(){for(var e=0;e<3;e++){if(t[e]+10<255){t[e]=+(t[e]+10).toFixed(7);break}e<2&&(t[e]=0)}return t}}(),o.__scaleSize=n,o.setRegion(""),o}return n(e,t),e.prototype.config=function(t){for(var e in t)this.useConfig(e,t[e]);return this},e.prototype.reset=function(){return this.config(c()),this},e.prototype.onlyRegion=function(t){return this.__onlyRegion=t,this},e.prototype.onlyView=function(t){return this.__onlyView=t,this},e.prototype.setRegion=function(t){if(this.__region)if(t){if(null==this.__regionList[t]){var e=this.__regionAssemble();this.__regionList[t]="rgb("+e[0]+","+e[1]+","+e[2]+")"}this.__region.useConfig("fillStyle",this.__regionList[t])&&this.__region.useConfig("strokeStyle",this.__regionList[t])}else this.__region.useConfig("fillStyle","#000000")&&this.__region.useConfig("strokeStyle","#000000");return this},e.prototype.getRegion=function(t,e){var i=this;return new Promise((function(r){var n=i.__region?i.__region.painter.getImageData(t-.5,e-.5,1,1):{data:[0,0,0,0]},o=n.data,a=function(){if(i.__region)for(var t in i.__regionList)if("rgb("+o[0]+","+o[1]+","+o[2]+")"==i.__regionList[t]){r(t);break}r("")};o?a():n.then((function(t){o=t,a()}))}))},e.prototype.textWidth=function(t){this.painter.save(),s(this.painter,this.__specialConfig,0,0,0);var e=this.painter.measureText(t+"").width;return this.painter.restore(),e},e.prototype.getContext=function(t){return void 0===t&&(t=!1),t?this.__region?this.__region.painter:null:this.painter},e.prototype.getInfo=function(){return{width:this.painter.canvas.width/this.__scaleSize,height:this.painter.canvas.height/this.__scaleSize}},e.prototype.createLinearGradient=function(t,e,i,r){return function(t,e,i,r,n){var o=t.createLinearGradient(e,i,r,n);return p(o)}(this.painter,t,e,i,r)},e.prototype.createRadialGradient=function(t,e,i){return function(t,e,i,r){var n=t.createRadialGradient(e,i,0,e,i,r);return p(n)}(this.painter,t,e,i)},e.prototype.createConicGradient=function(t,e,i,r){return function(t,e,i,r,n){var o=t.createConicGradient(r,e,i);return p(o,n?function(t){return n/(2*Math.PI)*t}:void 0)}(this.painter,t,e,i,r)},e.prototype.getColor=function(t,e){t*=this.__scaleSize,e*=this.__scaleSize;var i=this.painter.getImageData(t-.5,e-.5,1,1).data;return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},e}(g),v=function(t){function e(e,i,r,n){void 0===i&&(i={}),void 0===r&&(r=0),void 0===n&&(n=0);var o=this;if(!e)throw new Error("VISLite Canvas:The mount point requires an HTMLElement type but encountered null.");i=function(t,e){for(var i in t)e[i]=t[i];return e}(i,{scale:2,region:!0,willReadFrequently:!1}),r=r||e.clientWidth,n=n||e.clientHeight;var a,s=null,l=e;l._vislite_canvas_?(a=l._vislite_canvas_[0],s=l._vislite_canvas_[1]):(a=document.createElement("canvas"),e.appendChild(a),i.region&&(s=document.createElement("canvas")),l._vislite_canvas_=[a,s],e.setAttribute("vislite","Canvas"));for(var h=[s,a],u=0;u<h.length;u++){var _=h[u];_&&(_.style.width=r+"px",_.setAttribute("width",(1===u?i.scale:1)*r+""),_.style.height=n+"px",_.setAttribute("height",(1===u?i.scale:1)*n+""))}return(o=t.call(this,a,s,{willReadFrequently:i.willReadFrequently},i.scale)||this).__canvas=a,o.__el=e,o.painter.scale(i.scale,i.scale),o}return n(e,t),e.prototype.toDataURL=function(){var t=this;return new Promise((function(e){e(t.__canvas.toDataURL())}))},e.prototype.bind=function(t,e){var i=this;return this.__el.addEventListener(t,(function(t){i.getRegion(t.offsetX,t.offsetY).then((function(i){e(i,t.offsetX,t.offsetY)}))})),this},e}(f)},876:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var r=i(872);var n=i(9),o=i(192);
/*!
* getLoopColors of VISLite JavaScript Library v1.5.0
* git+https://github.com/oi-contrib/VISLite.git
*/
function a(t,e,i){void 0===e&&(e=1);var r=i?i(e):["rgba(84,112,198,"+e+")","rgba(145,204,117,"+e+")","rgba(250,200,88,"+e+")","rgba(238,102,102,"+e+")","rgba(115,192,222,"+e+")","rgba(59,162,114,"+e+")","rgba(252,132,82,"+e+")","rgba(154,96,180,"+e+")","rgba(234,124,204,"+e+")"],n=[];if(t<=r.length)return r;if(t%r.length==0)for(var o=0;o<t/r.length;o++)n=n.concat(r);else{for(var a=1;a<t/r.length;a++)n=n.concat(r);if(t%r.length==1)n=n.concat(r[4]);else for(var s=0;s<t%r.length;s++)n=n.concat(r[s])}return n}const s=JSON.parse('{"nodes":[{"name":"Agricultural \'waste\'"},{"name":"Bio-conversion"},{"name":"Liquid"},{"name":"Losses"},{"name":"Solid"},{"name":"Gas"},{"name":"Biofuel imports"},{"name":"Biomass imports"},{"name":"Coal imports"},{"name":"Coal"},{"name":"Coal reserves"},{"name":"District heating"},{"name":"Industry"},{"name":"Heating and cooling - commercial"},{"name":"Heating and cooling - homes"},{"name":"Electricity grid"},{"name":"Over generation / exports"},{"name":"H2 conversion"},{"name":"Road transport"},{"name":"Agriculture"},{"name":"Rail transport"},{"name":"Lighting & appliances - commercial"},{"name":"Lighting & appliances - homes"},{"name":"Gas imports"},{"name":"Ngas"},{"name":"Gas reserves"},{"name":"Thermal generation"},{"name":"Geothermal"},{"name":"H2"},{"name":"Hydro"},{"name":"International shipping"},{"name":"Domestic aviation"},{"name":"International aviation"},{"name":"National navigation"},{"name":"Marine algae"},{"name":"Nuclear"},{"name":"Oil imports"},{"name":"Oil"},{"name":"Oil reserves"},{"name":"Other waste"},{"name":"Pumped heat"},{"name":"Solar PV"},{"name":"Solar Thermal"},{"name":"Solar"},{"name":"Tidal"},{"name":"UK land based bioenergy"},{"name":"Wave"},{"name":"Wind"}],"links":[{"source":"Agricultural \'waste\'","target":"Bio-conversion","value":124.729},{"source":"Bio-conversion","target":"Liquid","value":0.597},{"source":"Bio-conversion","target":"Losses","value":26.862},{"source":"Bio-conversion","target":"Solid","value":280.322},{"source":"Bio-conversion","target":"Gas","value":81.144},{"source":"Biofuel imports","target":"Liquid","value":35},{"source":"Biomass imports","target":"Solid","value":35},{"source":"Coal imports","target":"Coal","value":11.606},{"source":"Coal reserves","target":"Coal","value":63.965},{"source":"Coal","target":"Solid","value":75.571},{"source":"District heating","target":"Industry","value":10.639},{"source":"District heating","target":"Heating and cooling - commercial","value":22.505},{"source":"District heating","target":"Heating and cooling - homes","value":46.184},{"source":"Electricity grid","target":"Over generation / exports","value":104.453},{"source":"Electricity grid","target":"Heating and cooling - homes","value":113.726},{"source":"Electricity grid","target":"H2 conversion","value":27.14},{"source":"Electricity grid","target":"Industry","value":342.165},{"source":"Electricity grid","target":"Road transport","value":37.797},{"source":"Electricity grid","target":"Agriculture","value":4.412},{"source":"Electricity grid","target":"Heating and cooling - commercial","value":40.858},{"source":"Electricity grid","target":"Losses","value":56.691},{"source":"Electricity grid","target":"Rail transport","value":7.863},{"source":"Electricity grid","target":"Lighting & appliances - commercial","value":90.008},{"source":"Electricity grid","target":"Lighting & appliances - homes","value":93.494},{"source":"Gas imports","target":"Ngas","value":40.719},{"source":"Gas reserves","target":"Ngas","value":82.233},{"source":"Gas","target":"Heating and cooling - commercial","value":0.129},{"source":"Gas","target":"Losses","value":1.401},{"source":"Gas","target":"Thermal generation","value":151.891},{"source":"Gas","target":"Agriculture","value":2.096},{"source":"Gas","target":"Industry","value":48.58},{"source":"Geothermal","target":"Electricity grid","value":7.013},{"source":"H2 conversion","target":"H2","value":20.897},{"source":"H2 conversion","target":"Losses","value":6.242},{"source":"H2","target":"Road transport","value":20.897},{"source":"Hydro","target":"Electricity grid","value":6.995},{"source":"Liquid","target":"Industry","value":121.066},{"source":"Liquid","target":"International shipping","value":128.69},{"source":"Liquid","target":"Road transport","value":135.835},{"source":"Liquid","target":"Domestic aviation","value":14.458},{"source":"Liquid","target":"International aviation","value":206.267},{"source":"Liquid","target":"Agriculture","value":3.64},{"source":"Liquid","target":"National navigation","value":33.218},{"source":"Liquid","target":"Rail transport","value":4.413},{"source":"Marine algae","target":"Bio-conversion","value":4.375},{"source":"Ngas","target":"Gas","value":122.952},{"source":"Nuclear","target":"Thermal generation","value":839.978},{"source":"Oil imports","target":"Oil","value":504.287},{"source":"Oil reserves","target":"Oil","value":107.703},{"source":"Oil","target":"Liquid","value":611.99},{"source":"Other waste","target":"Solid","value":56.587},{"source":"Other waste","target":"Bio-conversion","value":77.81},{"source":"Pumped heat","target":"Heating and cooling - homes","value":193.026},{"source":"Pumped heat","target":"Heating and cooling - commercial","value":70.672},{"source":"Solar PV","target":"Electricity grid","value":59.901},{"source":"Solar Thermal","target":"Heating and cooling - homes","value":19.263},{"source":"Solar","target":"Solar Thermal","value":19.263},{"source":"Solar","target":"Solar PV","value":59.901},{"source":"Solid","target":"Agriculture","value":0.882},{"source":"Solid","target":"Thermal generation","value":400.12},{"source":"Solid","target":"Industry","value":46.477},{"source":"Thermal generation","target":"Electricity grid","value":525.531},{"source":"Thermal generation","target":"Losses","value":787.129},{"source":"Thermal generation","target":"District heating","value":79.329},{"source":"Tidal","target":"Electricity grid","value":9.452},{"source":"UK land based bioenergy","target":"Bio-conversion","value":182.01},{"source":"Wave","target":"Electricity grid","value":19.013},{"source":"Wind","target":"Electricity grid","value":289.366}]}');const l=(0,r.defineElement)({template:[{name:"div",attr:{class:"sankey",id:"content-id"},children:[]}],style:{content:n.A},created(){setTimeout((function(){let t,e,i,r,n,l=document.getElementById("content-id"),h=l.clientWidth,u=l.clientHeight,_=new o.A(l),c=function(t,e,i,r,n){let o,a,s,l,h={};for(o=0;o<t.nodes.length;o++)h[t.nodes[o].name]={pres:[],nexts:[],deep:0,_sValue:0,_tValue:0,preTops:[],nextTops:[]};for(o=0;o<t.links.length;o++)s=t.links[o],h[s.source].nexts.push({name:s.target,value:s.value}),h[s.source]._sValue+=s.value,h[s.target].pres.push({name:s.source,value:s.value}),h[s.target]._tValue+=s.value,h[s.source].deep>=h[s.target].deep&&(l=h[s.source].deep+1-h[s.target].deep,h[s.target].deep+=l,function t(e,i){if(h[e].deep<i){h[e].deep=i;let r,n=h[e].nexts;for(r=0;r<n.length;r++)t(n[r].name,h[e].deep+1)}}(s.target,h[s.target].deep+1));let u=[];for(o in h)null==u[h[o].deep]&&(u[h[o].deep]=0),h[o].value=h[o]._sValue>h[o]._tValue?h[o]._sValue:h[o]._tValue,u[h[o].deep]+=h[o].value;let _=[],c=0;for(o=0;o<u.length;o++)c<u[o]&&(c=u[o]),_.push(0);let g,p=e/u.length,f=p/3;for(o in h){for(g=h[o].value/u[h[o].deep]*i,h[o].width=f,h[o].height=h[o].value/c*i*.9,h[o].left=p*(h[o].deep+1/3)+r,h[o].top=_[h[o].deep]+.5*(g-h[o].height)+n,h[o].preTops.push(h[o].top),a=0;a<h[o].pres.length;a++)h[o].preTops[a+1]=h[o].preTops[a]+h[o].pres[a].value/h[o].value*h[o].height;for(h[o].nextTops.push(h[o].top),a=0;a<h[o].nexts.length;a++)h[o].nextTops[a+1]=h[o].nextTops[a]+h[o].nexts[a].value/h[o].value*h[o].height;_[h[o].deep]+=g}return h}(s,h-100,u-60,10,30),g=a(s.nodes.length),p=a(s.nodes.length,.2);for(t in _.config({fontSize:10}),c)for(e=c[t],_.config({fillStyle:p.pop()}),r=0;r<e.nexts.length;r++)i=c[e.nexts[r].name],n=.5*(i.left-(e.left+e.width)),_.beginPath().moveTo(e.left+e.width,e.nextTops[r]).bezierCurveTo(e.left+e.width+n,e.nextTops[r],i.left-n,i.preTops[0],i.left,i.preTops[0]).lineTo(i.left,i.preTops[1]).bezierCurveTo(i.left-n,i.preTops[1],e.left+e.width+n,e.nextTops[r+1],e.left+e.width,e.nextTops[r+1]).fill(),i.preTops.shift();for(t in c)e=c[t],_.config({fillStyle:g.pop()}).fillRect(e.left,e.top,e.width,e.height),_.config({fillStyle:"#555555"}).fillText(t,e.left+e.width,e.top+.5*e.height)}),200)}})}}]);